var JPocket=function(){function n(n){var r=n;return r.constructor===Array?r:!1}function r(n){var r=n;return"function"==typeof r?r:!1}function o(n){if("string"!=typeof n)return!1;var r=String(n).replace(/ /g,"").toUpperCase();return r.length>0?r:void 0}function t(){var n=[];for(var r in localStorage)"USER_"===r.substring(0,5)&&n.push(r);localStorage.setItem("SYS_TBList",i(n))}function e(n){var r="USER_"+n;return r.toUpperCase()}function u(n){var r="ATT_"+n;return r.toUpperCase()}function c(n){var r="VER_"+n;return r.toUpperCase()}function i(n){return JSON.stringify(n)}function a(n){return JSON.parse(n)}function f(n){return null!==localStorage.getItem(n)?!0:!1}function l(n){return localStorage.getItem(n)}function v(n,r){return localStorage.setItem(n,r)}function s(n){return localStorage.removeItem(n)}var R={select:function(n,t){function e(n,r){var o,t=a(l("USER_"+n));for(var e in t){var u=parseInt(e);o=a(t[u]),r(o)&&f.push(a(t[u]))}return f}function u(n,t){i=o(n),c=r(t)}var c,i="",f=[];return u(n,t),i&&c?e(i,c):void console.error("ERROR")},insert:function(n,r){function t(n,r){return f(p)&&f(S)?(E=a(l(S)),E.push(i(R)),v(S,i(E)),!0):!1}function c(n,r){s=o(n),R=r,p=u(s),S=e(s)}var s="",R={},p=[],S="",E=[];return c(n,r),t(s,R)?!0:!1},update:function(n,t){function e(n,r){var o=a(l("USER_"+n));if(null!==o){var t;for(var e in o){var u=parseInt(e);t=a(o[u]);var c=r(t);c!==!1&&(o[u]=i(c))}v("USER_"+n,i(o))}}function u(n,t){f=o(n),c=r(t)}var c,f="";u(n,t),f&&c?e(f,c):console.error("ERROR")},clean:function(n,t){function e(n,r){var o=a(l("USER_"+n));if(null!==o){var t;for(var e in o){var u=parseInt(e);t=a(o[u]);var c=r(t);c===!0||s.push(o[u])}v("USER_"+n,i(s))}}function u(n,t){f=o(n),c=r(t)}var c,f="",s=[];u(n,t),f&&c?e(f,c):console.error("ERROR")},add:function(r,a){function f(n,r){return null===l(e(n))?(v(e(n),i(S)),v(u(n),i(r)),v(c(n),0),t(),!0):(console.warn("[警告] "+n+" 已存在於數據庫"),t(),!1)}function s(r,t){R=o(r),p=n(t)}var R="",p=[],S=[];return s(r,a),R&&p?f(R,p)?!0:!1:void console.error("ERROR")},modify:function(r,a){function f(n,r){return null!==l(e(n))?(v(u(n),i(r)),v(c(n),Number(l(c(n)))+1),t(),!0):(console.warn("[警告] "+n+" 並不存在於數據庫"),t(),!1)}function s(r,t){R=o(r),p=n(t)}var R="",p=[];return s(r,a),R&&p?f(R,p)?!0:!1:void console.error("ERROR")},drop:function(n){function r(n){return null!==l(e(n))?(s(e(n)),s(u(n)),t(),!0):(console.warn("[警告] "+n+" 並不存在於數據庫"),t(),!1)}function c(n){i=o(n)}var i="";return c(n),i?r(i)?!0:!1:void console.error("ERROR")},version:function(n){function r(n){return null!==l(c(n))?l(c(n)):void console.warn("[警告] "+n+" 版本資料已遺失")}function t(n){e=o(n)}var e="";return t(n),e?r(e):void console.error("ERROR")}};return R}();